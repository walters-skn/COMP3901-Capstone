{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-015243ac\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"chat-container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"chat-sidebar\"\n}, [/*#__PURE__*/_createElementVNode(\"h1\", null, [/*#__PURE__*/_createTextVNode(\"DIABOT \"), /*#__PURE__*/_createElementVNode(\"br\"), /*#__PURE__*/_createTextVNode(\"CHAT\")])], -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"chat-content\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Welcome! How can I assist you?\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  key: 1\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"chat-messages\"\n};\nconst _hoisted_8 = {\n  class: \"message\"\n};\nconst _hoisted_9 = {\n  class: \"message-content\"\n};\nconst _hoisted_10 = {\n  class: \"chat-input\"\n};\nconst _hoisted_11 = {\n  key: 1\n};\nconst _hoisted_12 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Assessment Complete!\", -1 /* HOISTED */));\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Your Risk\", -1 /* HOISTED */));\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"br\", null, null, -1 /* HOISTED */));\nconst _hoisted_15 = {\n  key: 0\n};\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"Do you want to subscribe to be a patient of Diabot? üè•\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavBar = _resolveComponent(\"NavBar\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_NavBar), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [!$data.greeted ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.startAssessment && $options.startAssessment(...args)),\n    class: \"button\"\n  }, \"Start Assessment\")])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [!$data.assessmentComplete ? (_openBlock(), _createElementBlock(\"section\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"h2\", _hoisted_9, _toDisplayString($data.question.question), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_10, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"input\",\n    type: \"text\",\n    ref: \"answer\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.response = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.response]]), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.answerQuestion && $options.answerQuestion(...args)),\n    class: \"btn\"\n  }, \"Submit \")])])) : (_openBlock(), _createElementBlock(\"section\", _hoisted_11, [_hoisted_12, _hoisted_13, _createElementVNode(\"p\", null, \"Risk Score: \" + _toDisplayString($data.risk_score), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Risk Category: \" + _toDisplayString($data.risk_category), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Chance of Developing Diabetes: \" + _toDisplayString($data.chance_of_diabetes), 1 /* TEXT */), _createElementVNode(\"p\", null, \"Screening Recommendation: \" + _toDisplayString($data.screening_recommendation), 1 /* TEXT */), _hoisted_14, $data.risk_category === 'High risk' || $data.risk_category === 'Very high risk' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [_hoisted_16, _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.subscribeMe && $options.subscribeMe(...args))\n  }, \"Yes \")])) : _createCommentVNode(\"v-if\", true)]))]))])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_createVNode","_component_NavBar","_hoisted_1","_hoisted_2","_hoisted_3","$data","greeted","_createElementBlock","_hoisted_4","_hoisted_5","onClick","_cache","args","$options","startAssessment","_hoisted_6","assessmentComplete","_hoisted_7","_hoisted_8","_hoisted_9","_toDisplayString","question","_hoisted_10","type","ref","_ctx","response","$event","answerQuestion","_hoisted_11","_hoisted_12","_hoisted_13","risk_score","risk_category","chance_of_diabetes","screening_recommendation","_hoisted_14","_hoisted_15","_hoisted_16","subscribeMe"],"sources":["C:\\Users\\18765\\Downloads\\COMP3901-Capstone\\src\\components\\DiabotPage.vue"],"sourcesContent":["\r\n\r\n<template>\r\n\r\n  <NavBar/>\r\n\r\n  <div class=\"chat-container\">\r\n    <div class=\"chat-sidebar\">\r\n      <h1>DIABOT <br>CHAT</h1>\r\n    </div>\r\n\r\n    <div class=\"chat-content\">\r\n        <div v-if=\"!greeted\">\r\n          <h2>Welcome! How can I assist you?</h2>\r\n          <button v-on:click=\"startAssessment\" class=\"button\">Start Assessment</button>\r\n        </div>\r\n\r\n        <div v-else>\r\n          <section v-if=\"!assessmentComplete\" class=\"chat-messages\">\r\n            <div class=\"message\">\r\n              <h2 class=\"message-content\">\r\n                {{ question.question }}\r\n              </h2>\r\n            </div>\r\n            <div class=\"chat-input\">\r\n              <input class=\"input\" type=\"text\" ref=\"answer\" v-model=\"response\">\r\n              <button v-on:click=\"answerQuestion\" class=\"btn\">Submit </button>\r\n            </div>\r\n          </section>\r\n\r\n          <section v-else>\r\n            <h2>Assessment Complete!</h2>\r\n            <h2>Your Risk</h2>\r\n            <p>Risk Score: {{ risk_score }}</p>\r\n            <p>Risk Category: {{ risk_category }}</p>\r\n            <p>Chance of Developing Diabetes: {{ chance_of_diabetes }}</p>\r\n            <p>Screening Recommendation: {{ screening_recommendation }}</p>\r\n            <br>\r\n\r\n          <div v-if=\"risk_category==='High risk' || risk_category==='Very high risk'\">\r\n            <h2>Do you want to subscribe to be a patient of Diabot? üè•</h2>\r\n            <button v-on:click=\"subscribeMe\">Yes </button>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport axios from 'axios';\r\nimport NavBar from './NavBar.vue'\r\n\r\nexport default {\r\n  components:{\r\n    NavBar,\r\n  },\r\n  name: 'ChatBox',\r\n  data() {\r\n    return {\r\n      greeted: false,\r\n      assessmentComplete: false,\r\n      questions: [], // Array to store questions\r\n      currentQuestionIndex: 0,\r\n      userResponses: [],\r\n      risk_score: 0,\r\n      risk_category: '',\r\n      chance_of_diabetes: '',\r\n      screening_recommendation: '',\r\n      question: {} // Current question object\r\n    };\r\n  },\r\n  methods: {\r\n    startAssessment() {\r\n      this.greeted = true;\r\n      this.getQuestions();\r\n    },\r\n    getQuestions() {\r\n      axios.get('http://localhost:5000/questions')\r\n        .then((response) => {\r\n          console.log('getQuestions response:', response);\r\n          this.questions = response.data.questions;\r\n          this.getNextQuestion();\r\n        })\r\n        .catch((error) => {\r\n          console.log('getQuestions error:', error);\r\n        });\r\n    },\r\n    getNextQuestion() {\r\n      console.log('getNextQuestion called. currentQuestionIndex:', this.currentQuestionIndex);\r\n      if (this.currentQuestionIndex < this.questions.length) {\r\n        this.question = this.questions[this.currentQuestionIndex];\r\n        console.log('Displaying question:', this.question);\r\n      } else {\r\n        this.submitResponses();\r\n      }\r\n    },\r\n    answerQuestion() {\r\n      this.userResponses.push(this.response);\r\n      this.currentQuestionIndex++;\r\n      if (this.currentQuestionIndex < this.questions.length) {\r\n        this.getNextQuestion();\r\n      } else {\r\n        this.submitResponses();\r\n      }\r\n      this.response = ''; // Clear the response input\r\n    },\r\n    submitResponses() {\r\n      console.log('submitResponses called. userResponses:', this.userResponses);\r\n      axios.post('http://localhost:5000/answers', {\r\n        responses: this.userResponses\r\n      })\r\n        .then((response) => {\r\n          console.log('submitResponses response:', response);\r\n          this.risk_score = response.data.risk_score;\r\n          this.risk_category = response.data.risk_category;\r\n          this.chance_of_diabetes = response.data.chance_of_diabetes;\r\n          this.screening_recommendation = response.data.screening_recommendation;\r\n        })\r\n        .catch((error) => {\r\n          console.log('submitResponses error:', error);\r\n        });\r\n      this.assessmentComplete = true;\r\n    },\r\n    subscribeMe() {\r\n      axios.post('http://localhost:5000/register')\r\n        .then((response) => {\r\n          console.log('subscribeMe response:', response);\r\n        })\r\n        .catch((error) => {\r\n          console.log('subscribeMe error:', error);\r\n        });\r\n\r\n        this.$router.push('/register')\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .btn{\r\n    width: 10vh;\r\n    padding: 5px;\r\n    color: white;\r\n    background-color: #4C8F9E;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    font-family: 'Times New Roman', Times, serif;\r\n    font-size: 20px;\r\n  }\r\n\r\n  .button{\r\n    display: block;\r\n    width: 30vh;\r\n    padding: 10px;\r\n    color: white;\r\n    background-color: #4C8F9E;\r\n    border: none;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    font-family: 'Times New Roman', Times, serif;\r\n    font-size: 25px;\r\n  }\r\n\r\n  .chat-container {\r\n    display: flex;\r\n    width: 60%;\r\n    height: 80vh;\r\n  }\r\n\r\n  .chat-messages {\r\n    flex: 1;\r\n    font-size: 10px;\r\n    overflow-y: auto; /* Enable vertical scrolling */\r\n    }\r\n  .message {\r\n    font-size: 20px;\r\n  }\r\n\r\n  .chat-input input {\r\n    flex: 1;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    border: 1px solid #ccc;\r\n  }\r\n\r\n  .chat-input button {\r\n    border-radius: 5px;\r\n    background-color: #4C8F9E;\r\n    color: #fff;\r\n    border: none;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .chat-sidebar {\r\n    width: 22%;\r\n    height: vh;\r\n    /* min-height: 84.5vh; */\r\n    padding: 2px;\r\n    border-left: 1px solid #ccc;\r\n    background-color: #4C8F9E;\r\n    z-index: -1;\r\n  }\r\n\r\n  .chat-sidebar h1 {\r\n    color: white;\r\n    font-family: Georgia, 'Times New Roman', Times, serif;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100%;\r\n  }\r\n\r\n  .chat-content {\r\n    padding-left: 10px;\r\n  }\r\n</style>"],"mappings":";;;EAMOA,KAAK,EAAC;AAAgB;gEACzBC,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAc,I,aACvBC,mBAAA,CAAwB,a,8BAApB,SAAO,G,aAAAA,mBAAA,CAAI,O,8BAAA,MAAI,E;;EAGhBD,KAAK,EAAC;AAAc;;;;gEAEnBC,mBAAA,CAAuC,YAAnC,gCAA8B;;;;;;EAKED,KAAK,EAAC;;;EACnCA,KAAK,EAAC;AAAS;;EACdA,KAAK,EAAC;AAAiB;;EAIxBA,KAAK,EAAC;AAAY;;;;iEAOvBC,mBAAA,CAA6B,YAAzB,sBAAoB;iEACxBA,mBAAA,CAAkB,YAAd,WAAS;iEAKbA,mBAAA,CAAI;;;;iEAGJA,mBAAA,CAA+D,YAA3D,wDAAsD;;;;6DApCpEC,YAAA,CAASC,iBAAA,GAETF,mBAAA,CAwCM,OAxCNG,UAwCM,GAvCJC,UAEM,EAENJ,mBAAA,CAkCM,OAlCNK,UAkCM,G,CAjCUC,KAAA,CAAAC,OAAO,I,cAAnBC,mBAAA,CAGM,OAAAC,UAAA,GAFJC,UAAuC,EACvCV,mBAAA,CAA6E;IAAhEW,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,eAAA,IAAAD,QAAA,CAAAC,eAAA,IAAAF,IAAA,CAAe;IAAEd,KAAK,EAAC;KAAS,kBAAgB,E,oBAGtES,mBAAA,CA2BI,OAAAQ,UAAA,G,CA1BcV,KAAA,CAAAW,kBAAkB,I,cAAlCT,mBAAA,CAUU,WAVVU,UAUU,GATRlB,mBAAA,CAIM,OAJNmB,UAIM,GAHJnB,mBAAA,CAEK,MAFLoB,UAEK,EAAAC,gBAAA,CADAf,KAAA,CAAAgB,QAAQ,CAACA,QAAQ,iB,GAGxBtB,mBAAA,CAGM,OAHNuB,WAGM,G,gBAFJvB,mBAAA,CAAiE;IAA1DD,KAAK,EAAC,OAAO;IAACyB,IAAI,EAAC,MAAM;IAACC,GAAG,EAAC,QAAQ;+DAAUC,IAAA,CAAAC,QAAQ,GAAAC,MAAA;iDAARF,IAAA,CAAAC,QAAQ,E,GAC/D3B,mBAAA,CAAgE;IAAnDW,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAe,cAAA,IAAAf,QAAA,CAAAe,cAAA,IAAAhB,IAAA,CAAc;IAAEd,KAAK,EAAC;KAAM,SAAO,E,sBAI3DS,mBAAA,CAaQ,WAAAsB,WAAA,GAZNC,WAA6B,EAC7BC,WAAkB,EAClBhC,mBAAA,CAAmC,WAAhC,cAAY,GAAAqB,gBAAA,CAAGf,KAAA,CAAA2B,UAAU,kBAC5BjC,mBAAA,CAAyC,WAAtC,iBAAe,GAAAqB,gBAAA,CAAGf,KAAA,CAAA4B,aAAa,kBAClClC,mBAAA,CAA8D,WAA3D,iCAA+B,GAAAqB,gBAAA,CAAGf,KAAA,CAAA6B,kBAAkB,kBACvDnC,mBAAA,CAA+D,WAA5D,4BAA0B,GAAAqB,gBAAA,CAAGf,KAAA,CAAA8B,wBAAwB,kBACxDC,WAAI,EAEK/B,KAAA,CAAA4B,aAAa,oBAAkB5B,KAAA,CAAA4B,aAAa,yB,cAAvD1B,mBAAA,CAGM,OAAA8B,WAAA,GAFJC,WAA+D,EAC/DvC,mBAAA,CAA8C;IAAjCW,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAA0B,WAAA,IAAA1B,QAAA,CAAA0B,WAAA,IAAA3B,IAAA,CAAW;KAAE,MAAI,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}